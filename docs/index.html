<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.148.2"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>CctoctoFX</title><meta name=description content><meta name=author content="Me"><link rel=canonical href=https://pillumina.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.9d388901283682bb45dd422fcaa0d0a2054a3c8ff47c9cc6b2baab15508b1b90.css integrity="sha256-nTiJASg2grtF3UIvyqDQogVKPI/0fJzGsrqrFVCLG5A=" rel="preload stylesheet" as=style><link rel=icon href=https://pillumina.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pillumina.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pillumina.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://pillumina.github.io/apple-touch-icon.png><link rel=mask-icon href=https://pillumina.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://pillumina.github.io/index.xml><link rel=alternate type=application/json href=https://pillumina.github.io/index.json><link rel=alternate hreflang=en href=https://pillumina.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script>const config={startOnLoad:!0,theme:"neutral",themeVariables:{lineColor:"#0f0f0f"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(0[0],document.querySelectorAll(".language-mermaid"))}</script><link rel=stylesheet href=/css/custom.min.bda7229c4269a242639e058fb11a4782f02f8d77071ba16609befee67cc41c49.css integrity="sha256-vacinEJpokJjngWPsRpHgvAvjXcHG6FmCb7+5nzEHEk="><script>document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),n=document.querySelectorAll(".toc a");if(t.length===0||n.length===0)return;const s={};t.forEach(e=>{s[e.id]=e.offsetTop});function i(){const t=window.scrollY+100;let e="";for(const[n,o]of Object.entries(s))if(t>=o)e=n;else break;return e}function o(){const e=i();if(n.forEach(e=>{e.classList.remove("active")}),e){const t=document.querySelector(`.toc a[href="#${e}"]`);t&&t.classList.add("active")}}let e=!1;window.addEventListener("scroll",function(){e||(window.requestAnimationFrame(function(){o(),e=!1}),e=!0)}),o()})</script><meta property="og:url" content="https://pillumina.github.io/"><meta property="og:site_name" content="CctoctoFX"><meta property="og:title" content="CctoctoFX"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://pillumina.github.io/imgs/icon_head.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pillumina.github.io/imgs/icon_head.png"><meta name=twitter:title content="CctoctoFX"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"CctoctoFX","url":"https://pillumina.github.io/","description":"","logo":"https://pillumina.github.io/favicon.ico","sameAs":["derios1230@gmail.com","https://github.com/pillumina","https://gitee.com/pillumina"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://pillumina.github.io/ accesskey=h title="CctoctoFX (Alt + H)"><img src=https://pillumina.github.io/apple-touch-icon.png alt aria-label=logo height=30>CctoctoFX</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://pillumina.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://pillumina.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://pillumina.github.io/posts/aiinfra title="AI Infra"><span>AI Infra</span></a></li><li><a href=https://pillumina.github.io/posts/programming title=Programming><span>Programming</span></a></li><li><a href=https://pillumina.github.io/social title=Social><span>Social</span></a></li><li><a href=https://pillumina.github.io/open_courses title=Study><span>Study</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>CctoctoFX (Yuxiao Huang)</h1></header><div class=entry-content><div class=row><div class=profile-text><p>Hey there! Iâ€™m a software engineer obsessed with untangling complex systems.<br>My playground includes:</p><ul><li><p>âš™ï¸ Software architecture (scaling the unscalable),</p></li><li><p>ğŸ§  LLM training/inference (squeezing speed from silicon),</p></li><li><p>ğŸ“ˆ Economic systems & ğŸŒ geopolitics (decoding money & power).</p></li><li><p>I drop occasional deep dives & spicy takes hereâ€”whether itâ€™s CUDA hacks, distributed systems war stories, or how AI reshapes global trade.</p></li><li><p>No fluff, just signal. Join the conversation!</p></li></ul></div><div class=profile-img><img draggable=false src=https://pillumina.github.io/imgs/icon_head.png alt=profile title=profile height=150 width=150></div></div></div></div></div><footer class=entry-footer><div class=social-icons><a href=derios1230@gmail.com target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
</a><a href=https://github.com/pillumina target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://gitee.com/pillumina target=_blank rel="noopener noreferrer me" title=Gitea><svg viewBox="0 0 24 20" fill="currentColor"><path d="M4.209 4.603c-.247.0-.525.02-.84.088-.333.07-1.28.283-2.054 1.027C-.403 7.25.035 9.685.089 10.052c.065.446.263 1.687 1.21 2.768 1.749 2.141 5.513 2.092 5.513 2.092s.462 1.103 1.168 2.119c.955 1.263 1.936 2.248 2.89 2.367 2.406.0 7.212-.004 7.212-.004s.458.004 1.08-.394c.535-.324 1.013-.893 1.013-.893s.492-.527 1.18-1.73c.21-.37.385-.729.538-1.068.0.0 2.107-4.471 2.107-8.823-.042-1.318-.367-1.55-.443-1.627-.156-.156-.366-.153-.366-.153s-4.475.252-6.792.306c-.508.011-1.012.023-1.512.027v4.474l-.634-.301c0-1.39-.004-4.17-.004-4.17-1.107.016-3.405-.084-3.405-.084s-5.399-.27-5.987-.324c-.187-.011-.401-.032-.648-.032zm.354 1.832h.111s.271 2.269.6 3.597C5.549 11.147 6.22 13 6.22 13s-.996-.119-1.641-.348c-.99-.324-1.409-.714-1.409-.714s-.73-.511-1.096-1.52C1.444 8.73 2.021 7.7 2.021 7.7s.32-.859 1.47-1.145c.395-.106.863-.12 1.072-.12zm8.33 2.554c.26.003.509.127.509.127l.868.422-.529 1.075a.686.686.0 00-.614.359.685.685.0 00.072.756l-.939 1.924a.69.69.0 00-.66.527.687.687.0 00.347.763.686.686.0 00.867-.206.688.688.0 00-.069-.882l.916-1.874a.667.667.0 00.237-.02.657.657.0 00.271-.137 8.826 8.826.0 011.016.512.761.761.0 01.286.282c.073.21-.073.569-.073.569-.087.29-.702 1.55-.702 1.55a.692.692.0 00-.676.477.681.681.0 101.157-.252c.073-.141.141-.282.214-.431.19-.397.515-1.16.515-1.16.035-.066.218-.394.103-.814-.095-.435-.48-.638-.48-.638-.467-.301-1.116-.58-1.116-.58s0-.156-.042-.27a.688.688.0 00-.148-.241l.516-1.062 2.89 1.401s.48.218.583.619c.073.282-.019.534-.069.657-.24.587-2.1 4.317-2.1 4.317s-.232.554-.748.588a1.065 1.065.0 01-.393-.045l-.202-.08-4.31-2.1s-.417-.218-.49-.596c-.083-.31.104-.691.104-.691l2.073-4.272s.183-.37.466-.497a.855.855.0 01.35-.077z"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[LLM4RL] å¼‚æ­¥RLæ¡†æ¶: Slime</h2></header><div class=entry-content><p>https://github.com/THUDM/slime
ä¸€ä¸ªå¼‚æ­¥å®ç°ä½†æ˜¯éå®Œå…¨å¼‚æ­¥çš„RLæ¡†æ¶
æ€»ä½“æ¶æ„ ä»æºç æ¨¡å—åˆ’åˆ†ï¼Œæœ‰ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ï¼š trainingï¼ˆMegatronï¼‰ï¼šä¸»è®­ç»ƒæµç¨‹ï¼Œè´Ÿè´£æ¨¡å‹å‚æ•°æ›´æ–°ã€‚ rolloutï¼ˆSGLang + routerï¼‰ï¼šè´Ÿè´£é‡‡æ ·ã€å¥–åŠ±/éªŒè¯ç”Ÿæˆï¼Œäº§ç”Ÿè®­ç»ƒæ•°æ®ã€‚ data bufferï¼šæ¡¥æ¥è®­ç»ƒä¸é‡‡æ ·ï¼Œç®¡ç†æ•°æ®æµã€ç¼“å­˜ä¸ç”Ÿæˆæ–¹å¼ã€‚ åˆ†å¸ƒå¼è°ƒåº¦ï¼šå…³äºèµ„æºåˆ†é…ã€actorå¯åŠ¨ã€ä»»åŠ¡è°ƒåº¦éƒ½ç”±äºRayç®¡ç†ï¼Œæ”¯æŒå¼‚æ­¥è®­ç»ƒå’Œé‡‡æ · æ’ä»¶æœºåˆ¶ï¼šæ”¯æŒè‡ªå®šä¹‰bufferã€æ¨¡å‹ã€æ¨¡å‹æ ¼å¼è½¬æ¢ï¼ˆmbridgeï¼‰ flowchart LR subgraph Ray[Ray åˆ†å¸ƒå¼è°ƒåº¦] A1[Actor Group&lt;br>è®­ç»ƒ Actor] A2[Rollout Group&lt;br>é‡‡æ ·/ç”Ÿæˆ Actor] A3[Placement Group&lt;br>èµ„æºåˆ†é…] end subgraph Training[Training &lt;Megatron>] T1[æ¨¡å‹è®­ç»ƒ] T2[æƒé‡åŒæ­¥] T3[è¯„ä¼°/ä¿å­˜] end subgraph Rollout[Rollout &lt;SGLang+Router>] R1[é‡‡æ ·/ç”Ÿæˆ] R2[å¥–åŠ±æ¨¡å‹] R3[è¿‡æ»¤å™¨] end subgraph Buffer[Data Buffer] B1[æ•°æ®ç¼“å­˜] B2[æ•°æ®æµè½¬] B3[Offload/Onload] end subgraph Plugins[æ’ä»¶æœºåˆ¶] P1[Buffer æ’ä»¶] P2[Model æ’ä»¶] P3[mbridge æ ¼å¼è½¬æ¢] end A1-->|è®­ç»ƒæ•°æ®|B1 A2-->|ç”Ÿæˆæ•°æ®|B1 B1-->|æ•°æ®æµ|A1 B1-->|æ•°æ®æµ|A2 A1-->|æƒé‡åŒæ­¥|A2 A1-->|è¯„ä¼°/ä¿å­˜|T3 A2-->|é‡‡æ ·/å¥–åŠ±/è¿‡æ»¤|R1 R1-->|å¥–åŠ±|R2 R1-->|è¿‡æ»¤|R3 B1-->|æ’ä»¶æ‰©å±•|P1 A1-->|æ¨¡å‹æ‰©å±•|P2 A1-->|æ ¼å¼è½¬æ¢|P3 A3-->|èµ„æºåˆ†é…|A1 A3-->|èµ„æºåˆ†é…|A2 å„æ¨¡å—è§†è§’çš„å…³ç³»å›¾ slime/rollout ç»„ä»¶å›¾ rollout è´Ÿè´£é‡‡æ ·ã€å¥–åŠ±ã€è¿‡æ»¤ï¼Œæ”¯æŒå¤šç§é‡‡æ ·/å¥–åŠ±/è¿‡æ»¤ç­–ç•¥ã€‚
...</p></div><footer class=entry-footer><span title='2025-08-07 17:10:12 +0800 CST'>August 7, 2025</span>&nbsp;Â·&nbsp;15 min&nbsp;Â·&nbsp;3119 words&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [LLM4RL] å¼‚æ­¥RLæ¡†æ¶: Slime" href=https://pillumina.github.io/posts/aiinfra/02-slime/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[LLM4RL] å¼‚æ­¥RLæ¡†æ¶: Areal</h2></header><div class=entry-content><p>https://github.com/inclusionAI/AReaL
çº¯å¼‚æ­¥RLæ–¹æ¡ˆ
å¼‚æ­¥PPOè®­ç»ƒè°ƒç”¨æµç¨‹ graph TD A[ç”¨æˆ·æ‰§è¡Œ: examples/run_async_ppo.sh] --> B[training/main_async_ppo.py] B --> C[AsyncPPOMATHConfigé…ç½®è§£æ] C --> D[training/utils.py: run_experiment] D --> E[Rayåˆå§‹åŒ–] E --> F[exp_cfg.initial_setup] F --> G[AsyncRLExperimentConfig.initial_setup] G --> H[åˆ›å»ºExperimentConfig] H --> I[å¯åŠ¨Workers] I --> J[MasterWorker] I --> K[ModelWorker] I --> L[GenerationServer] I --> M[GserverManager] I --> N[RolloutWorker] %% MasterWorkerè®­ç»ƒæµç¨‹ J --> J1[MasterWorker._poll_async] J1 --> J2[FunctionExecutor.execute_step] J2 --> J3[æ‰§è¡Œæ•°æ®æµå›¾éå†] J3 --> J4[å‘é€è®­ç»ƒè¯·æ±‚åˆ°ModelWorker] %% ModelWorkerå¤„ç†æµç¨‹ K --> K1[ModelWorker._poll] K1 --> K2[æ¥æ”¶MasterWorkerè¯·æ±‚] K2 --> K3[å¤„ç†è®­ç»ƒ/æ¨ç†è¯·æ±‚] K3 --> K4[æ‰§è¡Œæ¨¡å‹å‰å‘/åå‘ä¼ æ’­] %% Rolloutæµç¨‹ N --> N1[RolloutWorker._poll_async] N1 --> N2[load_next_data] N2 --> N3[allocate_new_rollout] N3 --> N4[agent.collect_trajectory] N4 --> N5[env.stepè®¡ç®—å¥–åŠ±] N5 --> N6[æ¨é€æ•°æ®åˆ°è®­ç»ƒç«¯] %% ç”ŸæˆæœåŠ¡å™¨æµç¨‹ L --> L1[GenerationServer._poll] L1 --> L2[å¯åŠ¨SGLangå­è¿›ç¨‹] L2 --> L3[å¤„ç†ç”Ÿæˆè¯·æ±‚] %% ç”ŸæˆæœåŠ¡å™¨ç®¡ç†å™¨ M --> M1[GserverManager._poll] M1 --> M2[HTTPæœåŠ¡çº¿ç¨‹] M2 --> M3[è¯·æ±‚è°ƒåº¦å’Œæƒé‡æ›´æ–°] %% æ•°æ®æµ N6 --> O[stream_dataset.py] O --> J4 %% å¼‚æ­¥é€šä¿¡ J4 -.->|å¼‚æ­¥è¯·æ±‚| K2 N3 -.->|HTTPè¯·æ±‚| M2 M2 -.->|è°ƒåº¦è¯·æ±‚| L3 %% æƒé‡æ›´æ–° K4 --> P[å‚æ•°æ›´æ–°] P --> Q[æƒé‡åŒæ­¥] Q --> M3 M3 --> R[æ›´æ–°ç”ŸæˆæœåŠ¡å™¨æƒé‡] style A fill:#e1f5fe style J fill:#f3e5f5 style K fill:#e8f5e8 style L fill:#fff3e0 style M fill:#fce4ec style N fill:#f1f8e9 ç”¨æˆ·å…¥å£åˆ°é…ç½®è§£æ examples/run_async_ppo.shÂ â†’Â training/main_async_ppo.py
...</p></div><footer class=entry-footer><span title='2025-08-07 14:40:12 +0800 CST'>August 7, 2025</span>&nbsp;Â·&nbsp;23 min&nbsp;Â·&nbsp;4872 words&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [LLM4RL] å¼‚æ­¥RLæ¡†æ¶: Areal" href=https://pillumina.github.io/posts/aiinfra/03-areal/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>æ˜‡è…¾è¶…èŠ‚ç‚¹CloudMatrix384è®ºæ–‡æ‹†è§£</h2></header><div class=entry-content><p>6.19å‘å¸ƒçš„CloudMatrix384è®ºæ–‡æ‹†è§£ï¼Œä»å®è§‚åˆ°åŸºç¡€æ¦‚å¿µ
æ ¸å¿ƒæŒ‡æ ‡å’Œè®¡ç®—æ–¹å¼ TPOT (Time Per Output Token) å…¬å¼ï¼šÂ $$TPOT= \frac{Decodeæ€»è€—æ—¶}{ç”ŸæˆTokenæ•°é‡}$$ æµ‹é‡æ–¹å¼ï¼šÂ ä»ç¬¬ä¸€ä¸ªè¾“å‡ºTokenå¼€å§‹è®¡æ—¶ï¼Œåˆ°ç”Ÿæˆç»“æŸï¼ˆå«MoEé€šä¿¡/KVè¯»å–ï¼‰ ä¸ºä»€ä¹ˆé‡è¦ï¼šÂ ç›´æ¥å†³å®šç”¨æˆ·ä½“éªŒï¼ˆå¦‚Chatbotå“åº”é€Ÿåº¦ï¼‰ï¼Œè®ºæ–‡è¦æ±‚Â &lt;50msï¼ˆä¸¥æ ¼æ¨¡å¼&lt;15msï¼‰ æ·±å±‚æ„ä¹‰ï¼šÂ åæ˜ ç³»ç»Ÿé€šä¿¡+è®¡ç®—ç»¼åˆèƒ½åŠ›ï¼ŒEP320ä¸‹TPOT=42msè¯æ˜UBç½‘ç»œçªç ´MoEé€šä¿¡å¢™ è®¡ç®—æ•ˆç‡ (Tokens/s per TFLOPS) å…¬å¼ï¼šÂ $$è®¡ç®—æ•ˆç‡=\frac {ååé‡(tokens/s)} {NPUå³°å€¼ç®—åŠ›(TFLOPS)}$$â€‹ è®ºæ–‡æ•°æ®ï¼š é˜¶æ®µ å€¼ å¯¹æ¯”åŸºå‡† Prefill 4.45 è¶…NVIDIA H100+SGLang(3.8) Decode 1.29 è¶…NVIDIA H800+DeepSeek(0.9) ä¸ºä»€ä¹ˆé‡è¦ï¼šÂ æ­ç¤ºç¡¬ä»¶åˆ©ç”¨ç‡ï¼Œ1.0ä»¥ä¸Šè¡¨æ˜è½¯ç¡¬ä»¶ååŒæè‡´ä¼˜åŒ– æ·±å±‚æ„ä¹‰ï¼šÂ Decodeé˜¶æ®µ1.29 â†’ æ˜‡è…¾910çš„Cubeå¼•æ“åˆ©ç”¨ç‡è¾¾Â 86%ï¼ˆä¼ ç»ŸGPUä»…60%) ç¼“å­˜è®¿é—®å»¶è¿Ÿ (KV Cache Access Latency) å…¬å¼ï¼šÂ $$å»¶è¿Ÿ=TMMU_{æŸ¥è¯¢}+TUB_{ä¼ è¾“}+TDRAM_{è¯»å–}â€‹$$ è®ºæ–‡æ•°æ®ï¼š åœºæ™¯ å»¶è¿Ÿ å¯¹æ¯”ä¼ ç»Ÿ æœ¬åœ°HBMå‘½ä¸­ 0.2Î¼s - è¿œç¨‹DRAMè®¿é—®(UB) 1.5Î¼s >10Î¼s (PCIe+IB) ä¸ºä»€ä¹ˆé‡è¦ï¼šÂ é•¿ä¸Šä¸‹æ–‡æ¨ç†ä¸­70%æ—¶é—´èŠ±åœ¨KVç¼“å­˜è®¿é—® æ·±å±‚æ„ä¹‰ï¼šÂ UBç»Ÿä¸€å†…å­˜å°†è¿œç¨‹è®¿é—®æ€§èƒ½æå‡è‡³è¿‘æœ¬åœ°æ°´å¹³ï¼Œæ”¯æ’‘ç™¾ä¸‡Tokenä¸Šä¸‹æ–‡ã€‚ ä¸“å®¶å¹¶è¡Œæ‰©å±•æ€§ (EP Degree) å®šä¹‰ï¼šå•ä¸ªMoEå±‚å¯åˆ†å¸ƒçš„ä¸“å®¶æ•°é‡ è®ºæ–‡çªç ´ï¼šEP320ï¼ˆæ¯ä¸ªæ˜‡è…¾Dieæ‰˜ç®¡1ä¸ªä¸“å®¶ï¼‰ æ”¯æ’‘å…¬å¼ï¼šÂ $$å¯æ‰©å±•æ€§=\frac {UBæ€»å¸¦å®½}{å•ä¸ªä¸“å®¶é€šä¿¡éœ€æ±‚}$$Â $$EPmax=\frac {384Ã—392GB/s} {8B/tokenÃ—10^6token/s}=320$$ ä¸ºä»€ä¹ˆé‡è¦ï¼šÂ EP>100æ—¶ä¼ ç»Ÿç½‘ç»œå´©æºƒï¼ŒEP320è¯æ˜UBçªç ´é€šä¿¡å¯æ‰©å±•æ€§æé™ INT8é‡åŒ–æ”¶ç›Š å…¬å¼ï¼š$$Â åŠ é€Ÿæ¯”=\frac {FP16åå}{INT8åå}Ã—ç²¾åº¦ä¿æŒç‡$$ è®ºæ–‡æ•°æ®ï¼š ååæå‡ï¼š1.8å€ ç²¾åº¦æŸå¤±ï¼š&lt;0.5%ï¼ˆ16ä¸ªåŸºå‡†æµ‹è¯•ï¼‰ ä¸ºä»€ä¹ˆé‡è¦ï¼šÂ Decodeé˜¶æ®µå†…å­˜å¸¦å®½å‡å°‘50%ï¼Œè§£å†³NPUçš„â€œå†…å­˜å¢™â€é—®é¢˜ QAè¾…åŠ©ç†è§£ ä¸ºä»€ä¹ˆç”¨TPOTè€ŒéQPSï¼Ÿ TPOTå‰¥ç¦»Batch Sizeå½±å“ï¼Œçº¯ç²¹è¡¡é‡å•æ¬¡ç”Ÿæˆæ•ˆç‡ æ›´ç›´è§‚åæ˜ SLAï¼ˆç”¨æˆ·æ„ŸçŸ¥çš„å»¶è¿Ÿï¼‰ ä¸ºä»€ä¹ˆå¼ºè°ƒè®¡ç®—æ•ˆç‡è€Œéç»å¯¹ååï¼Ÿ æ’é™¤å·¥è‰ºä¼˜åŠ¿ï¼ˆ7nm vs 5nmï¼‰ï¼Œèšç„¦æ¶æ„åˆ›æ–°ä»·å€¼ 1.29 tokens/s/TFLOPS â†’ è¯æ˜UB+LEPè®¾è®¡ä¼˜äºNVLink+GPU ä¸ºä»€ä¹ˆæµ‹é‡è¿œç¨‹DRAMè®¿é—®å»¶è¿Ÿï¼Ÿ éªŒè¯å†…å­˜æ± åŒ–çš„å®é™…æ•ˆæœï¼Œè¿™æ˜¯æ‰“ç ´â€œå†…å­˜å¢™â€çš„æ ¸å¿ƒ 1.5Î¼så»¶è¿Ÿ â†’ å®ç°â€œå…¨é›†ç¾¤å¦‚å•æœºâ€çš„ç¡¬ä»¶åŸºç¡€ è¶…èŠ‚ç‚¹æ¶æ„ ä¸‰çº§ç½‘ç»œå¹³é¢çš„ç‰©ç†éš”ç¦» ç¡¬ä»¶éš”ç¦»åŸç†
...</p></div><footer class=entry-footer><span title='2025-08-07 10:40:12 +0800 CST'>August 7, 2025</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;1211 words&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to æ˜‡è…¾è¶…èŠ‚ç‚¹CloudMatrix384è®ºæ–‡æ‹†è§£" href=https://pillumina.github.io/posts/aiinfra/01-ascend-cloudmatrix/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kubernetes Operator Development History</h2></header><div class=entry-content><p>æœ¬æ–‡æ—¨åœ¨è®°å½•å¯¹ä¸­é—´ä»¶ã€ç¼–æ’ç»„ä»¶å®¹å™¨åŒ–éƒ¨ç½²åï¼Œå®ç°kubernetesæ‰©å±•ç»„ä»¶Controllerçš„è¿‡ç¨‹ã€‚
Third-Parties kubernetes-client: javascript
client-go
kube-rs
client-goæºç åˆ†æ ç›®å½•ç»“æ„ kubernetes: contains the clientset to access Kubernetes API. discovery: discover APIs supported by a Kubernetes API server. dynamic: contains a dynamic client that can perform generic operations on arbitrary Kubernetes API objects. transport: set up auth and start a connection. tools/cache: useful for writing controllers. informers: informer group listers: lister group ä»£ç å®ä¾‹ 1 2 3 4 git clone https://github.com/huweihuang/client-go.git cd client-go #ä¿è¯æœ¬åœ°HOMEç›®å½•æœ‰é…ç½®kubernetesé›†ç¾¤çš„é…ç½®æ–‡ä»¶ go run client-go.go client-go.go
...</p></div><footer class=entry-footer><span title='2021-04-29 11:22:18 +0800 CST'>April 29, 2021</span>&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;1437 words&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to Kubernetes Operator Development History" href=https://pillumina.github.io/posts/programming/cloud-computing/k8s-operator-dev/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kubernetes ConfigMap çƒ­æ›´æ–°</h2></header><div class=entry-content><p>æ³¨ï¼šå¦‚æœå¯¹kubernetesçš„åŸºæœ¬æ¦‚å¿µä¸å¤ªæ¸…æ¥šï¼Œå»ºè®®å…ˆè¿‡ä¸€ä¸‹åŸºæœ¬çš„èµ„æºç±»å‹å†é˜…è¯»æ­¤æ–‡
å…ˆéšä¾¿ç»™ä¸ªä¾‹å­:
1 2 3 4 5 6 7 8 9 10 apiVersion: v1 kind: ConfigMap metadata: name: test-config data: config.yml: |- start-message: 'Hello, World!' log-level: INFO bootstrap.yml: listen-address: '127.0.0.1:8080' æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªConfigMapï¼Œdataä¸­å®šä¹‰äº†ä¸¤ä¸ªæ–‡ä»¶config.ymlä»¥åŠbootstrap.ymlï¼Œå½“æˆ‘ä»¬è¦å¼•ç”¨å½“ä¸­çš„é…ç½®çš„æ—¶å€™ï¼Œkubernetesæä¾›äº†ä¸¤ç§æ–¹æ¡ˆï¼š
ä½¿ç”¨configMapKeyRefå¼•ç”¨configMapä¸­æŸä¸ªæ–‡ä»¶çš„å†…å®¹ä½œä¸ºPodä¸­å®¹å™¨çš„ç¯å¢ƒå˜é‡ã€‚
æŠŠæ‰€æœ‰configMapä¸­çš„æ–‡ä»¶å†™åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œå°†ä¸´æ—¶ç›®å½•ä½œä¸ºvolumeæŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä¹Ÿå°±æ˜¯configmapç±»å‹çš„volumeã€‚
å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªDeploymentï¼Œå®ƒçš„podæ¨¡æ¿é‡Œå¼•ç”¨äº†configMapï¼Œç°åœ¨æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼šå½“configmapæ›´æ–°çš„æ—¶å€™ï¼Œè¿™ä¸ªDeploymentçš„ä¸šåŠ¡é€»è¾‘ä¹Ÿèƒ½éšä¹‹æ›´æ–°ã€‚é‚£ä¹ˆæœ‰å“ªäº›æ–¹æ¡ˆï¼Ÿ
æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œå½“configMapå‘ç”Ÿå˜æ›´æ—¶ï¼Œç›´æ¥è¿›è¡Œhot updateï¼Œåšåˆ°ä¸å½±å“podçš„æ­£å¸¸è¿è¡Œã€‚
å¦‚æœæ— æ³•hot updateæˆ–è€…è¿™æ ·å®Œæˆä¸äº†éœ€æ±‚ï¼Œå°±è¦å‡ºå‘å¯¹åº”çš„Deploymentåšä¸€æ¬¡æ»šåŠ¨æ›´æ–°ã€‚
åœºæ™¯ä¸€ï¼š é’ˆå¯¹å¯ä»¥è¿›è¡Œçƒ­æ›´æ–°çš„å®¹å™¨ï¼Œè¿›è¡Œé…ç½®çƒ­æ›´æ–° å¦‚æœconfigMapç”±volumeæŒ‚è½½ï¼Œæ¯”å¦‚ä¸‹è¿°çš„æŠ•å°„å·ï¼Œå®ƒçš„å†…å®¹æ˜¯å¯ä»¥æ›´æ–°çš„ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion: v1 kind: Pod metadata: name: volume-test spec: containers: - name: container-test image: busybox volumeMounts: - name: all-in-one mountPath: "/projected-volume" readOnly: true volumes: - name: all-in-one projected: sources: - configMap: name: myconfigmap items: - key: config path: my-group/my-config ä¸ºäº†èƒ½å¤Ÿæ¯”è¾ƒå¥½å¾—ç†è§£ï¼Œå…ˆè¯´æ˜ä¸€ä¸‹configMapçš„volumeæŒ‚è½½æœºåˆ¶ï¼š
...</p></div><footer class=entry-footer><span title='2021-04-24 11:22:18 +0800 CST'>April 24, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;314 words&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to Kubernetes ConfigMap çƒ­æ›´æ–°" href=https://pillumina.github.io/posts/programming/cloud-computing/k8s-config-update/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://pillumina.github.io/page/2/>Next&nbsp;2/8&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://pillumina.github.io/>CctoctoFX</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg></a><div class=reading-progress-bar></div><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".reading-progress-bar");if(!t)return;const n=document.querySelector(".post-single");if(!n)return;function s(){const e=n.getBoundingClientRect(),s=e.height,o=window.innerHeight,i=window.scrollY||window.pageYOffset,a=i/(s-o)*100;t.style.width=`${Math.min(100,Math.max(0,a))}%`}let e=!1;window.addEventListener("scroll",function(){e||(window.requestAnimationFrame(function(){s(),e=!1}),e=!0)}),s()}),document.addEventListener("DOMContentLoaded",function(){mediumZoom("article img:not(.nozoom)",{margin:24,background:"var(--theme)",scrollOffset:0})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>